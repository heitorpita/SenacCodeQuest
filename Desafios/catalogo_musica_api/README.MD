# ðŸŽµ Atividade de RevisÃ£o â€“ CatÃ¡logo de MÃºsicas

## ðŸŽ¯ Objetivo
Revisar o fluxo completo de uma API REST com **Express**, aplicando o padrÃ£o **MVC** e utilizando a estrutura de pastas:

```
src/
 â”£ data/
 â”£ models/
 â”£ controllers/
 â”£ routes/
 â”— app.js
```

Os alunos devem **planejar primeiro no papel** o funcionamento da API (endpoints, regras e dados) e **sÃ³ depois** implementar o cÃ³digo no VS Code.

---

## ðŸ§© Contexto
VocÃª foi contratado para desenvolver uma API de gerenciamento de mÃºsicas para um aplicativo chamado **SoundTrack Organizer**.  
A aplicaÃ§Ã£o deverÃ¡ armazenar e manipular um pequeno **catÃ¡logo de mÃºsicas**.

---

## ðŸ“‹ Campos obrigatÃ³rios da entidade `MÃºsica`

Cada mÃºsica deverÃ¡ conter os seguintes campos:

| Campo | Tipo | DescriÃ§Ã£o |
|--------|------|-----------|
| `id` | number | Identificador Ãºnico da mÃºsica (gerado automaticamente) |
| `titulo` | string | Nome da mÃºsica |
| `artista` | string | Nome do cantor ou banda |
| `ano` | number | Ano de lanÃ§amento |
| `genero` | string | GÃªnero musical (ex: rock, pop, sertanejo, jazz) |
| `duracao` | string | DuraÃ§Ã£o no formato "mm:ss" (ex: "03:45") |

---

## ðŸ§  Etapa 1 â€“ Planejamento no papel

Antes de abrir o VS Code, **planeje e anote no caderno**:

1. âœï¸ **Todos os endpoints REST** que farÃ£o parte do CRUD:
   - Quais serÃ£o as rotas (`/musicas`, `/musicas/:id`, etc.)
   - Quais mÃ©todos HTTP serÃ£o usados (`GET`, `POST`, `PUT`, `DELETE`)
   - O que cada rota deve retornar

2. ðŸ’¡ **Um endpoint especial (personalizado)** que nÃ£o seja do CRUD, por exemplo:
   - Buscar mÃºsicas por gÃªnero
   - Buscar mÃºsicas por artista
   - Listar apenas tÃ­tulos das mÃºsicas
   - Filtrar mÃºsicas lanÃ§adas apÃ³s determinado ano
   - Calcular duraÃ§Ã£o total das mÃºsicas cadastradas

3. âœ… **Pequenas validaÃ§Ãµes** que devem ser feitas:
   - Todos os campos obrigatÃ³rios devem ser preenchidos
   - O ano deve ser maior que 1900 e menor ou igual ao ano atual
   - NÃ£o pode haver duas mÃºsicas com o mesmo tÃ­tulo e artista

4. ðŸ§± **Fluxo de dados da aplicaÃ§Ã£o:**

```
data â†’ model â†’ controller â†’ routes â†’ app
```

Explique no papel o que cada camada faz e como elas se conectam.

---

## ðŸ’» Etapa 2 â€“ ImplementaÃ§Ã£o

ApÃ³s o planejamento, implemente o projeto seguindo o padrÃ£o **MVC**:

1. **`data/musicas.js`**
   - Crie um vetor `musicas` contendo alguns exemplos iniciais de mÃºsicas.

2. **`models/musicaModel.js`**
   - Crie uma classe `MusicaModel` com mÃ©todos estÃ¡ticos para:
     - Listar todas as mÃºsicas
     - Buscar por ID
     - Criar nova mÃºsica
     - Atualizar mÃºsica existente
     - Deletar mÃºsica
   - Lembre-se de gerar o `id` automaticamente (ex: `Date.now()`)

3. **`controllers/musicaController.js`**
   - Crie uma classe `MusicaController` com mÃ©todos para tratar as requisiÃ§Ãµes HTTP
   - Utilize `try/catch` para tratar erros
   - Retorne mensagens claras (ex: â€œMÃºsica criada com sucessoâ€)

4. **`routes/musicaRoutes.js`**
   - Crie as rotas e conecte cada uma aos mÃ©todos do controller

5. **`app.js`**
   - Configure o servidor Express
   - Adicione `express.json()` e as rotas de mÃºsica

---

## ðŸ§¾ Entrega esperada
- Estrutura de pastas organizada dentro de `src/`
- CÃ³digo funcional e testado no **Insomnia**
- Mensagens de erro e sucesso bem definidas
- ComentÃ¡rios explicativos nas principais funÃ§Ãµes
- **Planejamento no papel** entregue junto (foto ou folha)

---

## ðŸ’¬ Dica
> Planeje antes de codar. Entender o fluxo **data â†’ model â†’ controller â†’ routes â†’ app** Ã© essencial para dominar o desenvolvimento de APIs com Node.js e Express.

---